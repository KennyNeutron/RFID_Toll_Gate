{% extends "base.html" %}

{% block content %}
  <div class="text-center">
    <h1 class="mt-4">Welcome to the RFID Toll Gate System</h1>
    <p class="lead">Latest scanned RFID UID:</p>
    <h2 class="display-4" id="uid">Loading...</h2>
  </div>

  <script>
    function fetchUID() {
      fetch('/uid')
        .then(response => response.json())
        .then(data => {
          document.getElementById('uid').textContent = data.uid;
        })
        .catch(() => {
          document.getElementById('uid').textContent = "Error reading UID";
        });
    }

    setInterval(fetchUID, 1000);
    fetchUID();
  </script>
{% endblock %}
